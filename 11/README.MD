Cкрипт для CRON, который раз в час будет формировать письмо и отправлять на заданную почту.

Откройте crontab для редактирования:
crontab -e

Добавьте следующую строку для запуска скрипта каждый час:
0 * * * * /path/to/otus.sh

В письме будет прописан обрабатываемый временной диапазон (убрать комментарий) и:

Список IP адресов (с наибольшим кол-вом запросов) с указанием кол-ва запросов c момента последнего запуска скрипта;
Список запрашиваемых URL (с наибольшим кол-вом запросов) с указанием кол-ва запросов c момента последнего запуска скрипта;
Ошибки веб-сервера/приложения c момента последнего запуска;
Список всех кодов HTTP ответа с указанием их кол-ва с момента последнего запуска скрипта.

Скрипт предотвращать одновременный запуск нескольких копий, до его завершения.
