Этап 1: Запустить nginx на нестандартном порту 3-мя разными способами

Разворачиваем ВМ, видим ошибку
![Ошибка при запуске nginx](img/1.jpg)
смотрим детали
![Ошибка при запуске nginx](img/2.jpg)

Проверяем фаервол, конфиг Nginx b режим работы SELinux
![Ghjdthrf nginx](img/3.jpg)

Проверяем фаервол, конфиг Nginx b режим работы SELinux
![Проверяем nginx](img/3.jpg)

Исходя из вывода утилиты, мы видим, что нам нужно поменять параметр nis_enabled.
Видим, что Nginx запустился
![Меняем nis_enabled](img/4.jpg)
Вернём запрет работы nginx на порту 4881 обратно. Для этого отключим nis_enabled

Добавляем нестандартый порт в имеющийся тип. Проверяем, удалем порт.
![Меняем порт](img/5.jpg)

Формируем модуль. Проверяем, удалем.
![Формируем модуль](img/6.jpg)

Этап 2: Обеспечить работоспособность приложения при включенном selinux

Развернём 2 ВМ с помощью vagrant: vagrant up
После того, как стенд развернется, проверим ВМ с помощью команды: vagrant status
Подключимся к клиенту: vagrant ssh client
Попробуем внести изменения в зону: nsupdate -k /etc/named.zonetransfer.key
![Ошибка](img/7.jpg)

Смотрим логи SELinux, чтобы понять в чём может быть проблема.
Для этого воспользуемся утилитой audit2why:
В логах мы видим, что ошибка в контексте безопасности. Вместо типа named_t используется тип etc_t
Проверим данную проблему в каталоге /etc/named:
![ etc named](img/8.jpg)

Изменим тип контекста безопасности для каталога /etc/named: sudo chcon -R -t named_zone_t /etc/named
![Изменим тип](img/9.jpg)

Проверяем - все работает

Проблема заключалась в том, что конфигурационные файлы лежат в другом каталоге.
